{"version":3,"sources":["images/logo.svg","components/Header.js","components/Footer.js","images/VectorPen.svg","images/VectorPlus.svg","contexts/CurrentUserContext.js","components/Main.js","images/Trash.svg","components/Card.js","images/CloseIcon.svg","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","Footer","CurrentUserContext","React","createContext","Main","props","currentUser","useContext","onClick","onEditAvatarClick","avatar","pen","name","type","onEditProfileClick","about","onAddPlaceClick","plus","children","Card","isOwn","ownerId","_id","isLiked","likes","some","i","onCardDelete","cardData","bin","link","onCardClick","onCardLike","likesCounter","ImagePopup","isOpen","onClose","crossIcon","fullViewLink","fullViewTitle","createFetchTemplate","url","headers","fetch","then","res","ok","json","Promise","reject","status","catch","err","console","log","api","baseUrl","this","_baseUrl","_headers","userData","method","body","JSON","stringify","data","cardId","authorization","PopupWithForm","title","onSubmit","isSaving","submitButtonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","placeholder","minLength","maxLength","required","onChange","target","value","EditAvatarPopup","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","setTitle","onAddPlaceSubmit","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isPicturePopupOpen","setIsPicturePopupOpen","cards","setCards","selectedCard","setSelectedCard","setCurrentUser","setIsSaving","closeAllPopups","handleCardLike","card","changeLikeCardStatus","newCard","state","map","c","getUserInfo","getInitialCards","custCardData","owner","Provider","length","deleteCard","filter","item","editUserInfo","newUserData","uploadUserAvatar","placeInfo","postNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.80f5c7b4.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.4e8e0a1d.svg\";","import logo from '../images/logo.svg';\n\nfunction Header(){\nreturn (\n    <div className=\"header\">\n        <img src={logo} alt=\"Around US logo\" className=\"header__logo\"/>\n    </div>\n)\n}\n\nexport default Header;","function Footer() {\n    return (\n        <div className=\"footer\">\n            <p className=\"footer__copyright\">&copy; 2021 Around The U.S.</p>\n        </div>\n    )\n}\n\nexport default Footer;","export default __webpack_public_path__ + \"static/media/VectorPen.8667ac4a.svg\";","export default __webpack_public_path__ + \"static/media/VectorPlus.d86bb2ed.svg\";","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React, { useContext } from 'react';\nimport pen from '../images/VectorPen.svg';\nimport plus from '../images/VectorPlus.svg';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Main(props) {\n    const currentUser = useContext(CurrentUserContext)\n    return (\n        <div className=\"main-content\">\n            <section className=\"profile\">\n                <button className=\"profile__avatar-container\" onClick={props.onEditAvatarClick}>\n                    <img src={currentUser.avatar} alt=\"Avatar\" className=\"profile__image\" />\n                    <div className=\"profile__avatar-overlay\">\n                        <img src={pen} alt=\"pen\" className=\"profile__avatar-pen\" />\n                    </div>\n                </button>\n                <div className=\"profile__info\">\n                    <div className=\"profile__name-line\">\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\n                        <button type=\"button\" className=\"profile__edit-button\" onClick={props.onEditProfileClick}>\n                            <img src={pen} alt=\"pen\" className=\"profile__edit-pen\" />\n                        </button>\n                    </div>\n                    <p className=\"profile__about\">{currentUser.about}</p>\n                </div>\n                <button type=\"button\" className=\"profile__add-button\" onClick={props.onAddPlaceClick}>\n                    <img src={plus} alt=\"plus\" className=\"profile__plus\" />\n                </button>\n            </section>\n            {props.children}\n        </div>\n    )\n}\n\nexport default Main;","export default __webpack_public_path__ + \"static/media/Trash.c4956c32.svg\";","import React from 'react';\nimport bin from '../images/Trash.svg'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Card(props) {\n    const currentUser = React.useContext(CurrentUserContext)\n    const isOwn = props.ownerId === currentUser._id;\n    const isLiked = props.likes.some(i => i._id === currentUser._id);\n\n    function handleLikeClick() {\n        props.onCardLike(props.cardData);\n    };\n\n    function handleDeleteClick() {\n        props.onCardDelete(props.cardData);\n    };\n\n    return (\n        <div className=\"place\">\n            <button type=\"button\" className={isOwn ? \"place__delete\" : \"place__delete_hidden\"} onClick={handleDeleteClick}><img src={bin} alt=\"trash bin\" /></button>\n            <img className=\"place__image\" src={`${props.link}`} alt=\"user content cards\" onClick={props.onCardClick} />\n            <div className=\"place__description\">\n                <h2 className=\"place__title\">{props.name}</h2>\n                <div className=\"place__like-box\">\n                    <button type=\"button\" className={isLiked ? \"place__like_active\" : \"place__like\"} onClick={handleLikeClick}></button>\n                    <span className=\"place__like-counter\">{props.likesCounter}</span>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Card","export default __webpack_public_path__ + \"static/media/CloseIcon.1f0b5bb9.svg\";","import * as React from 'react'\nimport crossIcon from '../images/CloseIcon.svg';\n\nfunction ImagePopup(props) {\n \n    return (\n        <div className={props.isOpen ? 'popup_active' : 'popup popup_type_picture'}>\n            <figure className=\"popup__pic-container\">\n                <button type=\"button\" className=\"popup__closer\" onClick={props.onClose}><img src={crossIcon} alt=\"Closing cross\" className=\"popup__x\" /></button>\n                <img src={props.fullViewLink} alt=\"user's place\" className=\"popup__image\" />\n                <figcaption className=\"popup__image-title\">{props.fullViewTitle}</figcaption>\n            </figure>\n        </div>\n    )\n}\n\nexport default ImagePopup;","const createFetchTemplate = (url, headers) =>\n    fetch(url, headers)\n        .then(res => res.ok ? res.json() : Promise.reject(`Server returned this error: ${res.status}`))\n        .catch(err => console.log(err));\n\nclass Api {\n    constructor({ baseUrl, headers }) {\n        this._baseUrl = baseUrl;\n        this._headers = headers;\n    }\n\n    getInitialCards() {\n        return createFetchTemplate(`${this._baseUrl}/cards`, { headers: this._headers })\n    };\n\n    getUserInfo() {\n        return createFetchTemplate(`${this._baseUrl}/users/me`, { headers: this._headers })\n    };\n\n    editUserInfo(userData) {\n        const { name, about } = userData;\n        return createFetchTemplate(`${this._baseUrl}/users/me`, {\n            headers: this._headers,\n            method: \"PATCH\",\n            body: JSON.stringify({\n                name,\n                about,\n            })\n        })\n    }\n\n    uploadUserAvatar(link) {\n        return createFetchTemplate(`${this._baseUrl}/users/me/avatar`, {\n            headers: this._headers,\n            method: \"PATCH\",\n            body: JSON.stringify(link)\n        })\n    }\n    postNewCard(data) {\n        return createFetchTemplate(`${this._baseUrl}/cards`, {\n            headers: this._headers,\n            method: \"POST\",\n            body: JSON.stringify(data)\n        })\n    }\n\n    deleteCard(cardId) {\n        return createFetchTemplate(`${this._baseUrl}/cards/${cardId}`, {\n            headers: this._headers,\n            method: \"DELETE\"\n        })\n    }\n\n    changeLikeCardStatus(cardId, isLiked) {\n        return createFetchTemplate(`${this._baseUrl}/cards/likes/${cardId}`, {\n            headers: this._headers,\n            method: !isLiked ? \"DELETE\" : \"PUT\",\n        })\n    }\n}\n\nexport const api = new Api({\n    baseUrl: 'https://around.nomoreparties.co/v1/group-12',\n    headers: {\n        authorization: \"c1d6862e-d39d-4724-bab0-a07d7562f2a3\",\n        \"Content-Type\": \"application/json\",\n    }\n});","import * as React from 'react'\nimport crossIcon from '../images/CloseIcon.svg';\n\nfunction PopupWithForm(props) {\n    return (\n        <div className={props.isOpen ? 'popup_active' : `popup popup_type_${props.name}`}>\n            <div className=\"popup__window\">\n                <h2 className=\"popup__title\">{props.title}</h2>\n                <button type=\"button\" className=\"popup__closer\" onClick={props.onClose}><img src={crossIcon} alt=\"Closing cross\" className=\"popup__x\" /></button>\n                <form className={`popup__form popup__form_type_${props.name}`} onSubmit={props.onSubmit}>\n                    {props.children}\n                    <button type=\"submit\" className=\"popup__submit\">{props.isSaving ? \"Saving...\" : props.submitButtonText}</button>\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default PopupWithForm;","import React, { useState, useEffect, useContext } from 'react'\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport default function EditProfilePopup(props) {\n    const currentUser = useContext(CurrentUserContext);\n    const [name, setName] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n\n    useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser]);\n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n\n    function handleJobChange(e) {\n        setDescription(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateUser({\n            name,\n            about: description,\n        })\n    }\n\n    return (\n        <PopupWithForm name=\"edit\" title=\"Edit profile\" submitButtonText=\"Save\" isOpen={props.isOpen} onClose={props.onClose} onSubmit ={handleSubmit} isSaving={props.isSaving}>\n            <input id=\"name-input\" className=\"popup__input popup__input_text_name\" type=\"text\" name=\"name\" placeholder=\"Jacques Cousteau\" minLength=\"2\" maxLength=\"40\" required onChange={handleNameChange} />\n            <span id=\"name-input-error\" className=\"popup__error-message\"></span>\n            <input id=\"profession-input\" className=\"popup__input popup__input_text_profession\" type=\"text\" name=\"profession\" placeholder=\"Explorer\" minLength=\"2\" maxLength=\"200\" required onChange={handleJobChange}/>\n            <span id=\"profession-input-error\" className=\"popup__error-message\"></span>\n        </PopupWithForm>\n    )\n}\n\n","import { useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function EditAvatarPopup(props) {\n    const avatar = useRef('');\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateAvatar({\n            avatar: avatar.current.value,\n        })\n    };\n\n    return (\n        <PopupWithForm name=\"avatar\" title=\"Change profile picture\" submitButtonText=\"Save\" isOpen={props.isOpen} onClose={props.onClose} onSubmit = {handleSubmit} isSaving={props.isSaving}>\n        <input ref={avatar} id=\"image-url-input\" className=\"popup__input popup__input_text_link\" type=\"url\" name=\"avatar\" placeholder=\"https://somewebsite.com/someimage.jpg\" required />\n        <span id=\"image-url-input-error\" className=\"popup__error-message\"></span>\n    </PopupWithForm>\n    )\n}","import { useState } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function AddPlacePopup(props) {\n    const [link, setLink] = useState(\"\");\n    const [title, setTitle] = useState(\"\");\n\n    function handleLinkUpdate(e) {\n        setLink(e.target.value);\n    };\n\n    function handleTitleUpdate(e) {\n        setTitle(e.target.value);\n    };\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onAddPlaceSubmit({\n            link,\n            name: title\n        });\n    };\n\n    return (\n        <PopupWithForm name=\"add\" title=\"New place\" submitButtonText=\"Create\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} isSaving={props.isSaving}>\n        <input id=\"toponym-input\" className=\"popup__input popup__input_text_toponym\" type=\"text\" name=\"name\" placeholder=\"Title\" minLength=\"1\" maxLength=\"30\" required onChange={handleTitleUpdate}/>\n        <span id=\"toponym-input-error\" className=\"popup__error-message\"></span>\n        <input id=\"url-input\" className=\"popup__input popup__input_text_link\" type=\"url\" name=\"link\" placeholder=\"Image URL\" required onChange={handleLinkUpdate}/>\n        <span id=\"url-input-error\" className=\"popup__error-message\"></span>\n    </PopupWithForm>\n    )\n}","import React, { useState, useEffect } from 'react'\nimport Header from './Header'\nimport Footer from './Footer'\nimport Main from './Main';\nimport Card from './Card'\nimport ImagePopup from './ImagePopup';\nimport { api } from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\n\nfunction App() {\n\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n    const [isPicturePopupOpen, setIsPicturePopupOpen] = useState(false);\n    const [cards, setCards] = useState([]);\n    const [selectedCard, setSelectedCard] = useState({ link: \"\", title: \"\" });\n    const [currentUser, setCurrentUser] = useState({});\n    const [isSaving, setIsSaving] = useState(false);\n\n    useEffect(() => {\n        api.getUserInfo()\n            .then(currentUser => {\n                setCurrentUser(currentUser)\n            })\n    }, []);\n\n    useEffect(() => {\n        api.getInitialCards()\n            .then(res => {\n                const custCardData = res.map((data) => ({\n                    link: data.link,\n                    name: data.name,\n                    likes: data.likes,\n                    _id: data._id,\n                    ownerId: data.owner._id\n                }))\n                setCards(custCardData)\n            })\n    }, []);\n\n    function openEditProfilePopup() {\n        setIsEditProfilePopupOpen(true);\n    };\n\n    function openAddPlacePopup() {\n        setIsAddPlacePopupOpen(true);\n    };\n\n    function openEditAvatarPopup() {\n        setIsEditAvatarPopupOpen(true);\n    };\n\n    function openPicturePopup() {\n        setIsPicturePopupOpen(true)\n    };\n\n    function closeAllPopups() {\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsEditAvatarPopupOpen(false);\n        setIsPicturePopupOpen(false);\n        setSelectedCard({ link: \"\", title: \"\" });\n    };\n\n    function handleUpdateUser(userData) {\n        setIsSaving(true)\n        api.editUserInfo(userData)\n            .then(newUserData => {\n                setCurrentUser(newUserData);\n                setIsSaving(false)\n                closeAllPopups();\n            });\n    };\n\n    function handleUpdateAvatar(link) {\n        setIsSaving(true)\n        api.uploadUserAvatar(link)\n            .then(res => {\n                setCurrentUser(res);\n                setIsSaving(false);\n                closeAllPopups();\n            });\n    };\n\n    function handleAddPlaceSubmit(placeInfo) {\n        setIsSaving(true)\n        api.postNewCard(placeInfo)\n            .then(res => {\n                setCards([res, ...cards]);\n                setIsSaving(false);\n                closeAllPopups();\n            });\n    };\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n        api.changeLikeCardStatus(card._id, !isLiked)\n            .then(newCard => {\n                setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n            })\n    }\n\n    return (\n        <div className=\"page-container\">\n\n            <Header />\n            <CurrentUserContext.Provider value={currentUser}>\n                <Main\n                    onEditAvatarClick={openEditAvatarPopup}\n                    onEditProfileClick={openEditProfilePopup}\n                    onAddPlaceClick={openAddPlacePopup}>\n                    <div className=\"places\">\n                        {cards.map((data) => {\n                            return (\n                                <Card\n                                    cardData={data}\n                                    link={data.link}\n                                    name={data.name}\n                                    likesCounter={data.likes.length}\n                                    ownerId={data.ownerId}\n                                    likes={data.likes}\n                                    key={data._id}\n                                    cardId={data._id}\n                                    onCardClick={() => {\n                                        setSelectedCard({\n                                            link: data.link,\n                                            title: data.name\n                                        })\n                                        openPicturePopup()\n                                    }\n                                    }\n                                    onCardLike={handleCardLike}\n                                    onCardDelete={() =>\n                                        api.deleteCard(data._id)\n                                            .then(() => {\n                                                setCards(cards.filter((item) => item._id !== data._id));\n                                            })\n                                    }\n                                />\n                            )\n                        })}\n                    </div>\n                </Main>\n\n                <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} isSaving={isSaving} />\n\n                <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} isSaving={isSaving} />\n\n                <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlaceSubmit={handleAddPlaceSubmit} isSaving={isSaving} />\n\n                <ImagePopup\n                    isOpen={isPicturePopupOpen}\n                    onClose={closeAllPopups}\n                    fullViewLink={selectedCard.link}\n                    fullViewTitle={selectedCard.title} />\n            </CurrentUserContext.Provider>\n            <Footer />\n\n        </div>\n    );\n};\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render((\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>),\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}